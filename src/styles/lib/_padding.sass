@function str-replace($string, $search, $replace: "")
  $index: str-index($string, $search)
  @if $index
    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace)
  @return $string

@function check_list($list)
  @each $item in $list
    @if not $item
      @return true
  @return false

@function get_array($values)
  $output: null
  $a: nth($values, 1)
  $b: if(length($values) < 2, $a, nth($values, 2))
  $c: if(length($values) < 3, $a, nth($values, 3))
  $d: if(length($values) < 2, $a, nth($values, if(length($values) < 4, 2, 4)))
  @if $a == 0
    $a: 0
  @if $b == 0
    $b: 0
  @if $c == 0
    $c: 0
  @if $d == 0
    $d: 0
  @if $a == $b and $a == $c and $a == $d
    $output: $a
  @else if $a == $c and $b == $d
    $output: $a $b
  @else if $b == $d
    $output: $a $b $c
  @else
    $output: $a $b $c $d
  @return $output

=directional-property($pre, $suf, $values)
  $top: $pre + "-top" + if($suf, "-#{$suf}", "")
  $bottom: $pre + "-bottom" + if($suf, "-#{$suf}", "")
  $left: $pre + "-left" + if($suf, "-#{$suf}", "")
  $right: $pre + "-right" + if($suf, "-#{$suf}", "")
  $all: $pre + if($suf, "-#{$suf}", "")
  $values: get_array($values)
  @if check_list($values)
    @if nth($values, 1)
      #{$top}: nth($values, 1)
    @if length($values) == 1
      @if nth($values, 1)
        #{$right}: nth($values, 1)
    @else
      @if nth($values, 2)
        #{$right}: nth($values, 2)
    @if length($values) == 2
      @if nth($values, 1)
        #{$bottom}: nth($values, 1)
      @if nth($values, 2)
        #{$left}: nth($values, 2)
    @else if length($values) == 3
      @if nth($values, 3)
        #{$bottom}: nth($values, 3)
      @if nth($values, 2)
        #{$left}: nth($values, 2)
    @else if length($values) == 4
      @if nth($values, 3)
        #{$bottom}: nth($values, 3)
      @if nth($values, 4)
        #{$left}: nth($values, 4)
  @else
    #{$all}: $values

=mar($values...)
  +directional-property(margin, false, $values...)